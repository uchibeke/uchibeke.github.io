<div ng-include="'partials/nav.html'"></div>
<section class="guestpage container-fluid uofs-section animated slideInDown" id="guestListPage">
	<div class=" pull-left" >
		<a class="btn btn-default btn-xs" type="button" ng-href="#/populate">&laquo; Back</a>
	</div>
	<div class=" pull-right" >
		<a class="btn btn-default btn-xs" type="button" ng-href="#/tickets">Design Tickets &raquo;</a>
	</div>
	<div class="guestlist row  text-center center-block" >
		<div class="row">
			<h1 class="text-center uofs-page-title"><a>List</a></h1>
			<form class="search  text-center form col-xs-12 col-md-10">
				<input ng-model="guestSearch" placeholder="Search for a guest"
				autofocus="autofocus" class="searchBar form-control" >
			</form>
			<p style="" class="col-xs-12 col-md-2 pull-right">
				<button class="btn btn-primary btn-xs" ng-click="printGuestList()">
					Print List
				</button>
				<button  ng-model="btnText" type="button" class="btn btn-warning btn-xs"
				ng-show="$storage.guestsList.length > 0 <= 0" ng-click="deleteStored()">
					Remove All
				</button>
			</p>
		</div>
		<br class="clearfix"/>
		<div class="row">
			<button class="btn btn-primary btn-xs" ng-click="eventSummary = !eventSummary;">
				<span ng-show="!eventSummary">Summarize Event</span><span ng-show="eventSummary">Hide Summary</span>
			</button>
			<hr />
			<div class="  panel panel-default" data-toggle="buttons" style="padding-bottom: 2%;"
			ng-show="eventSummary">
				<div class="panel-body">
					<form role="form">
						<div class="form-group col-md-6 text-center">
							<label >Text to get summary for: </label>
							<input class="form-control"  placeholder="Type 'Nurse' to get how many times Nurse is found in a column" type="text"
							ng-model="summaryItem">
						</div>
						<div class="form-group col-md-6 text-center">
							<label >Column number</label>
							<input  class="form-control"  placeholder="Column where word is located" type="text"
							ng-model="columnNumber" ng-required="true">
						</div>
					</form>
					<p class="text-left text-muted">
						Eg. If I wanted to get how many times {{$storage.guestsList[0][0]}} shows up in
						column 1, I would enter {{$storage.guestsList[0][0]}} on the left and 1 on the right field.
						You may use this feature to get a summary of the role of attendees, the session they are are
						attending or their company or job.
					</p>
					<p class=" text-muted" >
						{{summaryItem}} was found <b class="text-success" style="font-size: xx-large;">{{sessionTotal(summaryItem, columnNumber)}}</b> times in
						column {{columnNumber}}
					</p>
				</div>
			</div>
		</div>
		<div id="GList" class="row" >
			<div class="text-center " >
				<!-- <p style="" class="col-xs-12 col-md-2 text-center"> -->
				<!-- <div class="col-xs-1 col-md-1">
				<h3>S/N</h3>
				</div>
				<div class="col-xs-6 col-md-6">
				<h3>Name/Ticket Number</h3>
				</div>
				<div class="col-xs-5 col-md-5">
				<h3>Status</h3>
				</div> -->
			</div>
			<div class="guest cf text-left row center-block" ng-repeat="item in $storage.guestsList | filter: guestSearch ">
				<span  class=" text-left col-lg-2 col-md-2 col-sm-2 gListNew" ng-repeat="a in item | filter: guestSearch "> {{a}} </span>
			</div>
		</div>
	</div>
	<div class="row">
		<div class="row">
			<form class="search  text-center form col-xs-12 col-md-10"></form>
			<p style="" class="col-xs-12 col-md-2 pull-right text-center">
				<button class="btn btn-primary btn-xs" ng-click="printGuestList()">
					Print List
				</button>
				<button  ng-model="btnText" type="button" class="btn btn-warning btn-xs"
				ng-show="$storage.guestsList.length > 0 <= 0" ng-click="deleteStored()">
					Remove All
				</button>
			</p>
		</div>
		<p class="row text-center " ng-show="$storage.guestsList.length != $storage.backUpGuestList.length">
			<span ng-show="listreplace"> Did you mistakenly delete your guest list? You can restore it from back up.
				<button type="button" class="btn btn-primary btn-xs " ng-click="replaceList()">
					Restore from Back Up
				</button></span>
			<span ng-show="!listreplace">This would remove all current guests. Are you sure?
				<button type="button" class="btn btn-primary btn-xs " ng-click="replaceList(); restoreFromBackUp()">
					Yes. Replace.
				</button></span>
		</p>
	</div>
</section>

