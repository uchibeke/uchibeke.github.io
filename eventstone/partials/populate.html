<div ng-include="'partials/nav.html'"></div>
<section class="guestinfo uofs-section container-fluid " id="populatePage">
	<div class="back_div pull-left ">
		<a type="button" class="btn btn-default btn-xs" ng-href="#/home"> <span class="uofs-icon uofs-icon-chevron-left"></span> </a></a>
	</div>
	<!-- <div class="pull-right">
		<a type="button" class="btn btn-default btn-xs" ng-href="#/guestList">Attendee List &raquo;</a>
	</div><br /> -->
	<h1 class="text-center uofs-page-title"><a>ADD FROM <br /> SPREADSHEET</a></h1>
	<h4 class="text-center "><a>{{$storage.eventName}}</a></h4>
	<p class="text-muted">
		<!-- You can create a list of attendees by pasting columns from excel file.
		If you need to add details from separate columns of an excel file,
		copy and paste all the columns, one at a time, into a separate excel sheet and copy them together and paste here.
		-->
		<!-- ,
		by typing comma delimted names or by generating ticket numbers below. Choose one option. -->
	</p>
	<div class="btn-group center-block row text-center" data-toggle="buttons" style="">
		<!-- <label class="btn btn-primary btn-xs col-md-2 pull-left " ng-click="addWithName=true;addWithNum=false;addByPasting=false;" >
		<input type="radio" name="options" id="option3">
		Add guests by name </label>  -->
	</div>
	<div class="addByPasting center center-block " ng-show="addByPasting">
		<div class="row dataFieldContainer center-block  text-center">
			<textarea ng-model="dataFieldExcel" placeholder="Copy and paste the excel columns containing the names,  Leave out the column heading, and click 'Add'. You can also add new attendees by typing their info here with each new attendee in a new line." 
		class="dataField form-control center-block center" type="textarea" style="height: 250px !important; " ></textarea>
		</div>
		<div class=" populate_div  panel panel-default" data-toggle="buttons" style="padding-bottom: 2%;">
			<div class="panel-body">
				<div class="pull-right">
					<button ng-model="btnText" type="button" ng-show="dataFieldExcel.length >=1"
					class="btn btn-primary btn-xs" ng-click="addPastedExcel();dataFieldExcel = '';guestAddFeedback=true;guestAddMsg();nbDesign=true ">
						{{listBtnText}}
					</button>
					<button ng-model="btnText" type="button" ng-show="dataFieldExcel.length >=1"
					class="btn btn-primary btn-xs" ng-click="clearField(dataFieldExcel); dataFieldExcel = ' ' ">
						Clear Field
					</button>
				</div>
				<div class="form-group col-md-12  col-xs-12 text-center" ng-show="nbDesign || $storage.guestsList.length>0">
					<br />
					<a type="button" class="btn btn-primary  "  ng-href="#/nameBadge"> Design Name Badges  &raquo; </a>
				</div>
				<div class="row text-center center-block">
					<a class="col-md-12  col-xs-12  "   ng-show="$storage.guestsList.length>0"
					ng-click="guestAddFeedback = !guestAddFeedback">
					<button type="button" class="btn btn-primary checkInBtn btn-xs  ">
						<span ng-show="guestAddFeedback"> <span class="uofs-icon uofs-icon-chevron-up"> </span></span>
						<span ng-show="!guestAddFeedback"> <span class="uofs-icon uofs-icon-chevron-down"> </span></span>
						<!-- <span ng-show="guestAddFeedback">Hide Attendees</span>
						<span ng-show="!guestAddFeedback">View  Attendees</span> -->
					</button> </a>
				</div>
			</div>

			<h4 class="col-md-12  col-xs-12 " ng-show="guestAddFeedback"> &#926; You've added {{$storage.guestsList.length}} Guests &#926;</h4>
			<div class="guest cf text-center row center-block" ng-repeat="item in $storage.guestsList | filter: guestSearch "
			ng-show="guestAddFeedback">
				<a ng-click="removeElement($storage.guestsList, $storage.guestsList.indexOf(item))"> <i type="button" class="close pull-left" aria-hidden="true" ng-show="showListIcon">X</i></a>
				<span  class=" text-left col-lg-2 col-md-2 col-sm-2 gListNew" ng-repeat="a in item | filter: guestSearch "> {{a}} </span>
			</div>
		</div>
	</div>
	<div class="addWithName " ng-show="addWithName">
		<div class="row dataFieldContainer center-block  text-center">
			<textarea ng-model="dataField" placeholder="Enter the names of guests seperated with comma and click 'Add Guests'" 
		class="dataField form-control" type="textarea" style="height: 250px !important; "></textarea>
		</div>
		<div class=" populate_div  panel panel-default" data-toggle="buttons" style="padding-bottom: 2%;">
			<div class="panel-body">
				<div class="pull-right">
					<button ng-model="btnText" type="button" ng-show="dataField.length >=1"
					class="btn btn-primary checkInBtn " ng-click="submitUserInput(dataField);dataField = '';guestAddFeedback=true;guestAddMsg(); nbDesign=true; ">
						{{listBtnText}}
					</button>
					<button ng-model="btnText" type="button" ng-show="dataField.length >=1"
					class="btn btn-primary btn-xs" ng-click="clearField(dataField); dataField = ' ' ">
						Clear Field
					</button>
				</div>
				<div class="pull-left" style="width: 50%;">
					<h4 class="pull-left"> &#926; You've added {{$storage.guestsList.length}} Guests &#926;</h4>
				</div>
			</div>
			<div class="" ng-show="nbDesign || $storage.guestsList.length>0">
				<a type="button" class="btn btn-primary  btn-xs "  ng-href="#/nameBadges"> Design Name badges &raquo; </a>
			</div>
			<div class="guest cf text-center row" ng-repeat="item in $storage.guestsList | filter: guestSearch | orderBy: guestOrder:direction"
			ng-show="guestAddFeedback">
				<div class="col-xs-2 col-md-2" style="padding-left: 5%;">
					<a ng-click="removeElement($storage.guestsList, $storage.guestsList.indexOf(item))"> <i type="button" class="close pull-left" aria-hidden="true" ng-show="showListIcon">{{item.icon}}</i></a>
					<span class=" text-center">{{$index+1}}</span>
				</div>
				<div class="col-xs-5 col-md-5 ">
					<h4>{{item.name}}</h4>
				</div>
				<div class="col-xs-5 col-md-5">
					{{item.guestStatus}}
				</div>
			</div>
		</div>
	</div>
	<div>
		<!-- {{$storage.x}} -->
		<!-- <p >{{dateString()}}</p> -->
		<button ng-hide="true" ng-click="$storage.$reset({ })">
			Clear localStorage
		</button>
	</div>
	<div class="clearfix ">
		<div ng-show="backUp" class="row ">
			<hr />
			<div class="col-xs-4 col-md-4">
				<p>
					This is your guest list from the last time you removed all guests from Eventstone.
				</p>
				<p>
					You currently have {{$storage.guestsList.length}} guests in your guest list.
				</p>
				<p>
					There are {{$storage.backUpGuestList.length}} guests in the back up list.
				</p>
				<p ng-show="$storage.guestsList.length != $storage.backUpGuestList.length">
					<span ng-show="popolateReplace"> You can restore from from this back up.
						<button type="button" class="btn btn-primary btn-xs " ng-click="replacePop()">
							Restore
						</button></span>
					<span ng-show="!popolateReplace">This would remove all current guests. Are you sure?
						<button type="button" class="btn btn-primary btn-xs " ng-click="replacePop(); restoreFromBackUp()">
							Yes. Replace guests.
						</button></span>
				</p>
			</div>
			<div class="col-xs-1 col-md-1" ></div>
			<ul class="guestlist col-xs-7 col-md-7 ">
				<!-- Click title to edit and save after change
				<button type="button" class="btn btn-primary btn-xs " id="saveChange">
				Save Change
				</button></span>
				<br /> -->
				<div class="text-center row center-block">
					<span id="titleContent" class=" text-center col-lg-2 col-md-2 col-sm-2 gListTitle" ng-repeat="a in  $storage.backUpGuestList[0]  | filter: guestSearch " contenteditable="true"> {{$storage.titleArr[$index]}} </span>

				</div>
				<br />

				<div class="guest cf row center-block" ng-repeat="item in $storage.backUpGuestList | filter: guestSearch | orderBy: guestOrder:direction">
					<span  class=" text-left col-lg-2 col-md-2 col-sm-2 gListNew" ng-repeat="a in item | filter: guestSearch "> {{a}} </span>

				</div>
			</ul>
		</div>
	</div>
</section>

